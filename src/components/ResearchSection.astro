---
import type { Section } from "@/content/sections";

const { section } = Astro.props as { section: Section };
---

<section id={section.id} class="relative w-full py-16">
    <div class="mx-auto max-w-7xl px-6">
        <div
            class="grid grid-cols-1 gap-8
        md:grid-cols-[minmax(220px,280px)_1fr]"
        >
            <!-- Title column -->
            <div class="md:sticky md:top-28
          self-start">
                <h2 class="text-2xl font-semibold tracking-tight">
                    {section.title}
                </h2>

                {
                    section.description && (
                        <p class="mt-3 text-sm text-muted-foreground leading-relaxed">
                            {section.description}
                        </p>
                    )
                }
            </div>

            <!-- Cards -->
            <div
                class="flex flex-col gap-6
          md:max-h-[60vh] md:overflow-y-auto
          md:pr-4"
            >
                {
                    section.items.map((item) => (
                        <article
                            class="
              group rounded-xl
              bg-background/50
              p-6
              transition
              hover:border-border
              min-h-40
            "
                        >
                            <div class="flex items-start justify-between gap-4">
                                <div>
                                    <h3 class="font-medium leading-tight">
                                        {item.title}
                                    </h3>

                                    {item.subtitle && (
                                        <p class="mt-1 text-sm text-muted-foreground">
                                            {item.subtitle}
                                        </p>
                                    )}
                                </div>

                                {item.status === "coming-soon" && (
                                    <span
                                        class="
                    rounded-full border px-2 py-0.5
                    text-xs text-muted-foreground
                  "
                                    >
                                        Coming soon
                                    </span>
                                )}
                            </div>

                            {item.description && (
                                <p class="mt-3 text-sm leading-relaxed text-muted-foreground">
                                    {item.description}
                                </p>
                            )}
                        </article>
                    ))
                }
            </div>
        </div>
    </div>
</section>
